pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
--fish display

--testfish
fish={
 name="mfing trout"
 ,sprt=1
 ,w=2,h=2
}

function _init()

end

function _update()

end

function _draw()
 cls(12)
 
 draw_fish_got(fish)
end


-->8
--logic

function draw_fish_got(fish)
 --get fish h and w
 local h=fish.h*8
 local w=fish.w*8
 local scale=2
 --upd scale
 --scale=3+sin(t()/4)
 
 --set inverse draw mode + fillp
 poke(0x5f34,0x2)
 fillp(░)
 --draw border circle
 local circ_rad=65
 circfill(64,64,circ_rad,0 | 0x1800)
 
 --reset fillp / draw mode
 fillp(█)
 
 --draw fish/lines
 local y=40
 --y+=5*sin(t())
 draw_flourish_lines(63,y+14)
 
 y+=5*sin(t())
 sspr(fish.sprt%16*8,flr(fish.sprt/16)*8
  ,w,h
  ,63-w*scale/2,y-h*scale/2
  ,w*scale,h*scale)
end


--item get lines
function draw_flourish_lines(x,y)
	for i=0,16 do
		local s=sin(time() * 2.1 + i/16)
		local c=cos(time() * 2.1 + i/16)
		local ty=y-14
		local r=20
		line(x+s*r,ty+c*r,x+s*40,ty+c*40,7)
	end
end
__gfx__
00000000000000040000000000000000000000000000000000111100000000000044440000000000000000000000000000000000000000000000000000000000
000000000000404a44040000000000000000000000000000011ccc100000000004aaa94000000000000000000000000000000000000000000000000000000000
00700700000494999a4a40000000000000011100000000001171cc200000000004919a9400000000045225000000000000000000000000000000000000000000
000770000004a999a999400000000000001cc100000000011ccccc2000000000049999a400000004451722000000000000000000000000000000000000000000
00077000004a99199991a400000000c111d1c11000000011ccccc771000000000044499400000045451122400000000000000000000000000000000000000000
007007000449a9799997940000000c7ccccccc1000011115c1cc77100044444400049994000022524f5552400000000000000000000000000000000000000000
0000000009a9999944999a4000000cd1c7ccc100001c515c1cc17710049aaa99444999400002244254ff5d400000000000000000000000000000000000000000
0000000004aa9a99999a9a940000001c7ddc1000001111cc1c1c710049944449aa999400000204252f44f5000000000000000000000000000000000000000000
00000000099a999999999940000001d7ddc10000000015ccc1c710004a400004444440000000054524ff44000000000000000000000000000000000000000000
0000000004aaa9a9999a9a4000111c7dc110000001011dccc77510004a40000000000099000004524ff4f4000000000000000000000000000000000000000000
00000000004aa9999a99940001dc1cc11c1000001c11dccc711c100049940000000004a90000052f444f40000000000000000000000000000000000000000000
00000000049aaa99a999a94001ccc110011000001c5115c510010000049400000000049400ff42ffff4200000000000000000000000000000000000000000000
0000000000449aaa999a44000000cc100000000001cc111c1000000004994444440049940044f400002200000000000000000000000000000000000000000000
000000000004a4aaaa4940000000cd1000000000001510010000000000499aaa99449940000f4f00022000000000000000000000000000000000000000000000
00000000000040449404000000000c1000000000001c1000000000000004444999a9940000004f00000000000000000000000000000000000000000000000000
00000000000000004000000000000000000000000001000000000000000000044444400000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000002220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000002ee20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000e22271e22000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000e7eeeeeee2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000e82e7eee20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000002e788e200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000028788e2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000222e78e220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000028e2ee22e20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000002eee2200220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000ee200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000e8200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000e200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
